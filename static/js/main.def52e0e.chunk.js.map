{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/close.svg","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/config.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","pageLogo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","style","backgroundImage","link","onCardDelete","name","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","PopupWithForm","isOpen","closeImage","onClose","title","onSubmit","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","event","preventDefault","onUpdateUser","type","placeholder","minLength","maxLength","required","onChange","target","value","id","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","ImagePopup","config","baseUrl","headers","authorization","api","options","getUserData","fetch","url","then","_getResponseData","editUserProfile","data","method","body","JSON","stringify","editUserAvatar","getInitialCards","addNewCard","deleteCard","changeLikeCardStatus","cardId","setLike","removeLike","this","res","ok","json","Promise","reject","status","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setiIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","editUser","user","closeAllPopups","catch","error","Provider","newCard","newCards","c","filter","item","arr","closePopups","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.def52e0e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.5e46e501.svg\";","import pageLogo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return(\r\n    <header className=\"header root__section\">\r\n      <img src={pageLogo} alt=\"mesto logo\" className=\"logo\"/>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `place-card__delete-icon ${isOwn && 'place-card__delete-icon_visible'}`\n  );\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `place-card__like-icon ${isLiked && 'place-card__like-icon_liked'}`\n  );\n\n  function handleCardClick() {\n    return props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card._id)\n  }\n\n  return (\n    <div className=\"place-card\">\n      <div\n        className=\"place-card__image\"\n        onClick={handleCardClick}\n        style={ { backgroundImage: `url(${props.card.link})` } }\n      ></div>\n      <button className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\n      <div className=\"place-card__description\">\n        <h3 className=\"place-card__name\">{props.card.name}</h3>\n        <div className=\"place-card__like-container\">\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <p className=\"place-card__likes-number\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n      <div className=\"profile root__section\">\n        <div className=\"user-info\">\n          <div className=\"user-info__photo\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }}>\n          </div>\n          <div className=\"user-info__data\">\n            <h1 className=\"user-info__name\">{currentUser.name}</h1>\n            <p className=\"user-info__job\">{currentUser.about}</p>\n            <button className=\"button user-info__edit-button\" onClick={props.onEditProfile}>Edit</button>\n          </div>\n          <button className=\"button user-info__button\" onClick={props.onAddPlace}>+</button>\n        </div>\n      </div>\n      <div className=\"places-list root__section\">\n        {props.cards.map((card) => (\n            <Card\n              card={card}\n              key={card._id}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n        ))}\n      </div>\n\n    </>\n  );\n}\n\nexport default Main;\n","export default __webpack_public_path__ + \"static/media/close.16235b5e.svg\";","import React from 'react';\nimport closeImage from '../images/close.svg';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup popup_type_${props.name} ${props.isOpen && 'popup_is-opened'}`}>\n      <div className='popup__content'>\n        <img src={closeImage} alt=\"\" className=\"popup__close\" onClick={props.onClose}/>\n        <h3 className=\"popup__title\">{props.title}</h3>\n        <form className=\"popup__form\" name={props.name} onSubmit={props.onSubmit}>\n          {props.children}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  function nameOnChange(event) {\n    setName(event.target.value);\n  }\n\n  function descriptionOnChange(event) {\n    setDescription(event.target.value);\n  }\n\n  React.useEffect(() =>  {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser])\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"profile\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        name=\"username\"\n        className=\"popup__input popup__input_type_name\"\n        placeholder=\"Имя\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        required={true}\n        onChange={nameOnChange}\n        value={name}\n      />\n      <span id=\"username-error\" className=\"popup__error\"></span>\n      <input\n        type=\"text\"\n        name=\"about\"\n        className=\"popup__input popup__input_type_about\"\n        placeholder=\"О себе\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        required={true}\n        onChange={descriptionOnChange}\n        value={description}\n      />\n      <span id=\"about-error\" className=\"popup__error\"></span>\n      <button\n        id=\"profile-button\"\n        className=\"button popup__button popup__button_type_profile\"\n      >Сохранить</button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react'\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup (props) {\n\n  const avatarRef = React.useRef();\n\n  function handleSubmit (event) {\n    event.preventDefault();\n\n      props.onUpdateAvatar({\n        avatar: avatarRef.current.value\n      });\n  }\n\n  return (\n    <PopupWithForm\n        title=\"Обновить аватар\"\n        name=\"avatar\"\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}\n        >\n        <input\n          type=\"url\"\n          name=\"avatarlikn\"\n          className=\"popup__input popup__input_type_avatar\"\n          placeholder=\"Ссылка на аватар\"\n          required={true}\n          ref={avatarRef}\n        />\n        <span id=\"avatar-error\" className=\"popup__error\"></span>\n        <button id=\"avatar-button\" className=\"button popup__button popup__button_type_profile\">Сохранить</button>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction AddPlacePopup (props) {\n\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    props.onAddPlace({\n      name,\n      link,\n    })\n  }\n\n  function nameOnChange(event) {\n    setName(event.target.value);\n  }\n\n  function linkOnChange(event) {\n    setLink(event.target.value);\n  }\n\n  return (\n    <PopupWithForm\n        title=\"Новое место\"\n        name=\"place\"\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            name=\"placename\"\n            className=\"popup__input popup__input_type_name\"\n            placeholder=\"Название\"\n            required={true}\n            minLength=\"2\"\n            maxLength=\"30\"\n            onChange={nameOnChange}\n            value={name}\n            />\n          <span id=\"name-error\" className=\"popup__error\"></span>\n          <input\n            type=\"url\"\n            name=\"link\"\n            className=\"popup__input popup__input_type_link-url\"\n            placeholder=\"Ссылка на картинку\"\n            required={true}\n            onChange={linkOnChange}\n            value={link}\n            />\n          <span id=\"link-error\" className=\"popup__error\"></span>\n          <button id=\"place-button\" className=\"button popup__button \">+</button>\n      </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport closeImage from '../images/close.svg';\n\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup popup_type_image ${props.isOpen && 'popup_is-opened'}`}>\n      <div className=\"popup__content popup__content_type_image\" style={{ backgroundImage: `url(${props.card.link})` }}>\n        <img src={closeImage} alt=\"\" className=\"popup__close\" onClick={props.onClose}/>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","const config = {\n  baseUrl: 'https://nomoreparties.co/cohort11',\n  headers: {\n    authorization: '6282d211-b1bd-4fad-af58-e65f4129d6a3',\n    'Content-Type': 'application/json',\n  },\n};\n\nexport default config;\n","import config from './config';\n\nclass Api {\n  constructor(options) {\n    this.options = options;\n    this.url = this.options.baseUrl;\n    this.headers = this.options.headers;\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Что-то пошло не так... Код ошибки: ${res.status}`);\n  }\n\n  getUserData = () => {\n    return fetch(`${this.url}/users/me`, {\n        headers: this.headers\n      })\n     .then(this._getResponseData);\n  }\n\n  editUserProfile = (data) => {\n    return fetch(`${this.url}/users/me`, {\n        method: 'PATCH',\n        headers: this.headers,\n        body: JSON.stringify({\n          name: data.name,\n          about: data.about\n        })\n      })\n      .then(this._getResponseData);\n  }\n\n  editUserAvatar = (data) => {\n    return fetch(`${this.url}/users/me/avatar`, {\n        method: 'PATCH',\n        headers: this.headers,\n        body: JSON.stringify({\n          avatar: data.avatar\n        })\n      })\n      .then(this._getResponseData);\n  }\n\n  getInitialCards = () => {\n    return fetch(`${this.url}/cards`, {\n        headers: this.headers\n      })\n      .then(this._getResponseData);\n  }\n\n  addNewCard = (data) => {\n    return fetch(`${this.url}/cards`, {\n        method: 'POST',\n        headers: this.headers,\n        body: JSON.stringify({\n          name: data.name,\n          link: data.link,\n        })\n      })\n      .then(this._getResponseData);\n  }\n\n  deleteCard = (id) => {\n    return fetch(`${this.url}/cards/${id}`, {\n        method: 'DELETE',\n        headers: this.headers\n      })\n      .then(this._getResponseData);\n  }\n\n  changeLikeCardStatus = (cardId, isLiked) => {\n    return isLiked ? this.setLike(cardId) : this.removeLike(cardId);\n  }\n\n  setLike = (id) => {\n    return fetch(`${this.url}/cards/like/${id}`, {\n        method: 'PUT',\n        headers: this.headers\n      })\n      .then(this._getResponseData);\n  }\n\n  removeLike = (id) => {\n    return fetch(`${this.url}/cards/like/${id}`, {\n        method: 'DELETE',\n        headers: this.headers\n      })\n      .then(this._getResponseData);\n  }\n}\n\nconst api = new Api(config);\nexport default api;\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setiIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState('');\n\n  React.useEffect(() => {\n    api.getUserData()\n      .then((data) => {\n        editUser(data);\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((data) => {\n        setCards([...data]);\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards([...newCards]);\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n\n  function handleCardDelete(id) {\n    api.deleteCard(id)\n      .then(() => {\n        return cards.filter(item => item._id !== id)\n      })\n      .then((arr)=> {\n        setCards([...arr])\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n\n  function handleAddPlace(data) {\n    api.addNewCard(data)\n      .then((card) => {\n        setCards([...cards, card]);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n\n  function handleUpdateUser(user) {\n    api.editUserProfile(user)\n      .then((data) => {\n        editUser(data);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n\n  function handleUpdateAvatar (avatar) {\n    api.editUserAvatar(avatar)\n      .then((data) => {\n        editUser(data);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n\n  function editUser(user) {\n    setCurrentUser(user);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setiIsEditAvatarPopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setiIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard('');\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onEditAvatar={handleEditAvatarClick}\n        onCardClick={handleCardClick}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDelete}\n        closePopups={closeAllPopups}\n        cards={cards}\n      />\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace}/>\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n      <ImagePopup isOpen={isImagePopupOpen} onClose={closeAllPopups} card={selectedCard}/>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}